---
output:
  revealjs::revealjs_presentation:
    transition: fade
    logo: ../includes/nav_logo.svg
    favicon: ../includes/favicon.ico
    css: ../includes/custom.css
---

## Relational Data - THE SEQUEL (SORRY)

![](./includes/relational-nycflights.png)

## Tonight's Setup
- Download IMDB.zip from Blackboard
- Extract the folder (save it to your hard drive)
- Open the file IMDB.Rproj (your computer should use RStudio)
- Open the R script `data/data.R`
- Run this file.
- The command `source()` lets you run other files.
- This takes a few minutes, we will talk as it runs.
- Let me know if this blows up.

## Goals
- Discuss Project 2
- Discuss the Project Template
- Review Joins (Inner/Left)
- Practice!!!

## Project 2 (1)
- Continue to develop your research question. 
    - Highlight any stratifications you think are important.
    - Is this a pre-post analysis? Is it comparing two groups?
    - What sort of analysis/comparison/trend are you looking for?
    - What is your hypothesis? (What do you expect to find?)
    - Include a brief lit-review as appropriate. (Ask the
      instructor if you aren't sure.)

## Project 2 (2)
- Define any measures you intend to use.
    - What is the (English) definition of the measure?
    - What are you trying to understand?
    - How will you calculate the denominator/numerator? Include
      variable names, mathematical formula, etc.

## Project 2 (3)
- Using the class template, write a script to download the data
  from the source.
<br />

<div class="left">
Broadly Speaking:

<small>

- This IMDB project, and many of the other projects are similar to how
  I set up most of my R projects IRL.
- You could call it a project template.
- It is a recipe
- If it would be helpful, I could put together a "blank".

</small>
</div>

<div class="right">
A Project often includes the following:
<small>

- data folder (and R scripts)
    - if complicated, a data.R file to control
- an exploratory .R or .Rmd file(s)
- a report/analysis.Rmd (can be called anything you want)
    - if complicated a reports.R file to control
- a setup.R file
- a few README files (For this class, these can be in markdown, Word,
  whatever)
  
  </small>
</div>

## Project Template - Why?
- Reproducibility - New data, different results?
- Documentation of data/methods/etc
- Beyond the scope of this class - version control
- Once you set this up once, you can re-use much of it
- It is a discipline

## Project 2 (4)
- Create a R Markdown notebook and explore the data.
    - Please note the source/URL of the source-data.
    - Discuss the number of rows downloaded.
    - When the data was collected/created.
    - Any exploratory graphs/tables you developed when assessing
      the data.
    - Of the variables you will be using, how many missing
      variables (per column) are there? Do you think this will be
      a problem for your analysis?
    - Discuss what transformations/aggregations you may need to do
      to complete this analysis. Will these be a barrier?

## Project 2 (5)
- Students must submit a ZIP file containing their data/code, and
  a compiled R Markdown Notebook (HTML) in which the student
  explores the data, looks for relationships in the data, etc. The
  ZIP file must be submitted via Blackboard.
    - If you need help accessing/downloading the data, contact the
      Instructor for help _before_ the due date.

## Project 2 (6)
- **Due:** Next week
- If you have already submitted something, you can resubmit.
- Questions???

## Quick Review (1)
- Unit: What is a row?
- _PRIMARY KEY_: Usually, but not always, one of the first columns.
- Example:
    - An Allscripts EHR has a table called Members.
    - The unit is patients (one row, one patient - mostly)
    - The key is the MRN, which is the third column, usually
- Quick Exercise:
    - Open TitleBasics, identify the unit and the primary key

## Quick Review: Inner Join
![https://blog.codinghorror.com/a-visual-explanation-of-sql-joins/](./includes/inner_join.png)

## Quick Review: Left Join
![https://blog.codinghorror.com/a-visual-explanation-of-sql-joins/](./includes/left_join.png)

## EXERCISES!

- Open report.Rmd
- We will go through these together
